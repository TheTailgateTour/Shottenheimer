<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>The Shottenheimer</title>
      <meta name="description" content="The Shottenheimer menu. Scan the QR to see ingredients." />
      <meta name="theme-color" content="#E31837" />
      <link rel="stylesheet" href="styles.css" />
      <script type="application/ld+json">{"@context":"https://schema.org","@type":"Menu","name":"The Shottenheimer","description":"KC tailgate shot cooler menu","hasMenuSection":[{"@type":"MenuSection","name":"Shots","hasMenuItem":[{"@type":"MenuItem","name":"The Showgirl","description":"New Amsterdam Berry Vodka, Deep Eddy Orange Vodka, Watermelon Pucker, Sour, Agave"},{"@type":"MenuItem","name":"Salted Paloma","description":"Deep Eddy Grapefruit Vodka, Silver Tequila, Sour, Agave, Salt"},{"@type":"MenuItem","name":"White Tea","description":"Titos Vodka, Peach Schnapps, Sour"},{"@type":"MenuItem","name":"Green Tea","description":"Crown Peach, Peach Schnapps, Sour"},{"@type":"MenuItem","name":"Gummy Bear","description":"Cruzan Black Cherry Rum, Deep Eddy Pineapple Vodka, Peach Schnapps, Sour"}]}]}</script>
   </head>
   <body>
      <div class="container">
         <header>
            <div class="brand">
               <h1>üèà The Shottenheimer ‚öæ</h1>
            </div>
         </header>
         <div class="banner" role="note">Tap a card to see the ingredients.<br/>Print a <a href="qr.html" class="inline">QR Code</a>. </div>
         <section aria-label="Shots" class="grid">
            <article class="card" id="showgirl">
               <h2 class="item-title">üíÉ The Showgirl</h2>
               <p class="pill">Vodka ‚Ä¢ Berry ‚Ä¢ Citrus ‚Ä¢ Watermelon</p>
               <details>
                  <summary>Ingredients</summary>
                  <ul>
                     <li>Berry Vodka</li>
                     <li>Orange Vodka</li>
                     <li>Watermelon Pucker</li>
                     <li>Sour</li>
                     <li>Agave</li>
                  </ul>
               </details>
            </article>
            <article class="card" id="salted-paloma">
               <h2 class="item-title">üßÇüçä Salted Paloma</h2>
               <p class="pill">Vodka ‚Ä¢ Tequila ‚Ä¢ Grapefruit</p>
               <details>
                  <summary>Ingredients</summary>
                  <ul>
                     <li>Grapefruit Vodka</li>
                     <li>Silver Tequila</li>
                     <li>Sour</li>
                     <li>Agave</li>
                     <li>Salt</li>
                  </ul>
               </details>
            </article>
            <article class="card" id="gummy-bear">
               <h2 class="item-title">üçíüçç Gummy Bear</h2>
               <p class="pill">Rum ‚Ä¢ Vodka ‚Ä¢ Cherry ‚Ä¢ Pineapple</p>
               <details>
                  <summary>Ingredients</summary>
                  <ul>
                     <li>Black Cherry Rum</li>
                     <li>Pineapple Vodka</li>
                     <li>Peach Schnapps</li>
                     <li>Sour</li>
                     <li>Agave</li>
                  </ul>
               </details>
            </article>
            <article class="card" id="white-tea">
               <h2 class="item-title">ü§çüçë White Tea</h2>
               <p class="pill">Vodka ‚Ä¢ Peach</p>
               <details>
                  <summary>Ingredients</summary>
                  <ul>
                     <li>Vodka (Gluten Free)</li>
                     <li>Peach Schnapps</li>
                     <li>Sour</li>
                     <li>Agave</li>
                  </ul>
               </details>
            </article>
            <article class="card" id="green-tea">
               <h2 class="item-title">üíöüçë Green Tea</h2>
               <p class="pill">Whiskey ‚Ä¢ Peach</p>
               <details>
                  <summary>Ingredients</summary>
                  <ul>
                     <li>Peach Whiskey</li>
                     <li>Peach Schnapps</li>
                     <li>Sour</li>
                     <li>Agave</li>
                  </ul>
               </details>
            </article>
             <article class="card" id="fireball">
               <h2 class="item-title">üíöüçë Fireball</h2>
               <p class="pill">Whiskey ‚Ä¢ Cinnamon</p>
            </article>
         </section>
      </div>
      
<script>
  (function () {
    const MARGIN = 12;      // px breathing room around the card
    const MIN_MOVE = 20;    // px; ignore tiny adjustments to avoid micro scrolls

    const prefersReduced = () =>
      window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches === true;

    const vpHeight = () =>
      (window.visualViewport?.height || window.innerHeight);

    function ensureCardInView(card) {
      const viewH = vpHeight();
      const rect = card.getBoundingClientRect();
      const tall = rect.height > (viewH - 2 * MARGIN);

      let delta = 0;

      if (tall) {
        // If the expanded card is taller than the viewport,
        // prioritize keeping the top in view first; if bottom
        // still overflows, nudge down.
        if (rect.top < MARGIN) {
          delta = rect.top - MARGIN; // negative -> scroll up
        } else if (rect.bottom > (viewH - MARGIN)) {
          delta = rect.bottom - (viewH - MARGIN); // positive -> scroll down
        }
      } else {
        // Card fits on screen; ensure both top & bottom remain visible.
        const overflowBottom = rect.bottom - (viewH - MARGIN); // >0 means needs scroll down
        const overflowTop = MARGIN - rect.top;                 // >0 means needs scroll up

        if (overflowBottom > 0) delta = overflowBottom;
        else if (overflowTop > 0) delta = -overflowTop;
      }

      if (Math.abs(delta) >= MIN_MOVE) {
        window.scrollBy({
          top: delta,
          behavior: prefersReduced() ? 'auto' : 'smooth'
        });
      }
    }

    // Your current "click card to toggle" behavior + smooth reveal
    document.querySelectorAll('.card').forEach((card) => {
      const details = card.querySelector('details');
      if (!details) return;

      // Click anywhere on card (except these) to toggle
      card.addEventListener('click', (evt) => {
        if (evt.target.closest('a, button, summary, [data-no-toggle]')) return;

        details.open = !details.open;

        // If we just opened, wait for layout to expand, then adjust scroll
        if (details.open) {
          requestAnimationFrame(() => {
            requestAnimationFrame(() => ensureCardInView(card));
          });
        }
      });

      // Also handle users tapping the Summary itself
      details.addEventListener('toggle', () => {
        if (details.open) {
          requestAnimationFrame(() => {
            requestAnimationFrame(() => ensureCardInView(card));
          });
        }
      }, { passive: true });
    });
  })();
</script>

   </body>
</html>
